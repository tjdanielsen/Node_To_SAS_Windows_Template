=====================================================================1                                           The SAS System                 14:01 Monday, March 6, 2023

NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.22621  Workstation

NOTE: SAS initialization used:
      real time           0.30 seconds
      cpu time            0.10 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        ! passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProcessing
8        ! Sysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                           The SAS System                 14:01 Monday, March 6, 2023

      cpu time            0.00 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may be
27       ! an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=06Mar2023:14:01:24,
      Create Time=17Feb2023:12:40:53

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         force an error
           _____
           180
ERROR 180-322: Statement is not valid or it is used out of proper order.

35         
36         %ToDo;
MPRINT(TODO):   DATA temp;

NOTE: Line generated by the invoked macro "TODO".
36                                  x=&secondP;
                                    _
                                    180
MPRINT(TODO):   x=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                             y=20;
                                               _
                                               180
MPRINT(TODO):  y=20;
3                                           The SAS System                 14:01 Monday, March 6, 2023


ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                  z=30;
                                                    _
                                                    180
MPRINT(TODO):  z=30;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                       OUTPUT;
                                                         ______
                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                           x=1;
                                                                             _
                                                                             180
MPRINT(TODO):   x=1;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                               y=2;
                                                                                 _
                                                                                 180
MPRINT(TODO):  y=2;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                   z=3;
                                                                                     _
                                                                                     180
MPRINT(TODO):  z=3;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                       OUTPUT;
                                                                                         ______
                                                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                              
36       !        x=100;y=&secondP;z=300;OUTPUT;             x=101;y=201;z=301;OUTPUT;
4                                           The SAS System                 14:01 Monday, March 6, 2023

                  _
                  180
MPRINT(TODO):   x=100;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=&secondP;

_                                                                                                     

180
MPRINT(TODO):  y=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=300;

_                                                                                                     

180
MPRINT(TODO):  z=300;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=101;

_                                                                                                     

180
MPRINT(TODO):   x=101;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=201;

_                                                                                                     

180
MPRINT(TODO):  y=201;

5                                           The SAS System                 14:01 Monday, March 6, 2023

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=301;

_                                                                                                     

180
MPRINT(TODO):  z=301;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=11;

_                                                                                                     

180
MPRINT(TODO):   x=11;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=22;

_                                                                                                     

180
MPRINT(TODO):  y=22;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=&secondP;

_                                                                                                     

180
MPRINT(TODO):  z=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;
6                                           The SAS System                 14:01 Monday, March 6, 2023


______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   RUN;
MPRINT(TODO):   PROC JSON OUT="c:\users\67tim\onedrive\nodeTemplate\outfile.txt";
ERROR: File WORK.TEMP.DATA does not exist.
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
MPRINT(TODO):   RUN;

WARNING: RUN statement ignored due to previous errors. Submit QUIT; to terminate the procedure.
NOTE: PROCEDURE JSON used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: Due to ERROR(s) above, SAS set option OBS=0, enabling syntax check mode. 
      This prevents execution of subsequent data modification statements.

37         
38         ODS _ALL_ CLOSE;
ERROR: Errors printed on pages 2,3,4,5,6.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.34 seconds
      cpu time            0.10 seconds
      
=====================================================================1                                           The SAS System                 14:01 Monday, March 6, 2023

NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.22621  Workstation

NOTE: SAS initialization used:
      real time           0.30 seconds
      cpu time            0.01 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        ! passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProcessing
8        ! Sysparm.pdf */
9          %put &sysparm;
ToDo=sasT,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                           The SAS System                 14:01 Monday, March 6, 2023

      cpu time            0.00 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasT
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may be
27       ! an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=06Mar2023:14:01:26,
      Create Time=17Feb2023:12:40:53

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         force an error
           _____
           180
ERROR 180-322: Statement is not valid or it is used out of proper order.

35         
36         %ToDo;
MPRINT(TODO):   DATA _NULL_;

NOTE: Line generated by the invoked macro "TODO".
36           DATA _NULL_;             FILE "&outfile";             PUT "Hello World!  This is SAS
                                      ____
                                      180
36       ! calling.";         RUN;
ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   FILE "c:\users\67tim\onedrive\nodeTemplate\outfile.txt";

NOTE: Line generated by the invoked macro "TODO".
36           DATA _NULL_;             FILE "&outfile";             PUT "Hello World!  This is SAS
                                                                   ___
                                                                   180
3                                           The SAS System                 14:01 Monday, March 6, 2023

36       ! calling.";         RUN;
ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   PUT "Hello World!  This is SAS calling.";
MPRINT(TODO):   RUN;
37         
38         ODS _ALL_ CLOSE;
ERROR: Errors printed on pages 2,3.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.33 seconds
      cpu time            0.01 seconds
      
=====================================================================1                                           The SAS System                 14:05 Monday, March 6, 2023

NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.22621  Workstation

NOTE: SAS initialization used:
      real time           0.31 seconds
      cpu time            0.10 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        ! passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProcessing
8        ! Sysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                           The SAS System                 14:05 Monday, March 6, 2023

      cpu time            0.00 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may be
27       ! an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=06Mar2023:14:05:24,
      Create Time=17Feb2023:12:40:53

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         force an error
           _____
           180
ERROR 180-322: Statement is not valid or it is used out of proper order.

35         
36         %ToDo;
MPRINT(TODO):   DATA temp;

NOTE: Line generated by the invoked macro "TODO".
36                                  x=&secondP;
                                    _
                                    180
MPRINT(TODO):   x=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                             y=20;
                                               _
                                               180
MPRINT(TODO):  y=20;
3                                           The SAS System                 14:05 Monday, March 6, 2023


ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                  z=30;
                                                    _
                                                    180
MPRINT(TODO):  z=30;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                       OUTPUT;
                                                         ______
                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                           x=1;
                                                                             _
                                                                             180
MPRINT(TODO):   x=1;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                               y=2;
                                                                                 _
                                                                                 180
MPRINT(TODO):  y=2;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                   z=3;
                                                                                     _
                                                                                     180
MPRINT(TODO):  z=3;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                       OUTPUT;
                                                                                         ______
                                                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                              
36       !        x=100;y=&secondP;z=300;OUTPUT;             x=101;y=201;z=301;OUTPUT;
4                                           The SAS System                 14:05 Monday, March 6, 2023

                  _
                  180
MPRINT(TODO):   x=100;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=&secondP;

_                                                                                                     

180
MPRINT(TODO):  y=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=300;

_                                                                                                     

180
MPRINT(TODO):  z=300;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=101;

_                                                                                                     

180
MPRINT(TODO):   x=101;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=201;

_                                                                                                     

180
MPRINT(TODO):  y=201;

5                                           The SAS System                 14:05 Monday, March 6, 2023

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=301;

_                                                                                                     

180
MPRINT(TODO):  z=301;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=11;

_                                                                                                     

180
MPRINT(TODO):   x=11;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=22;

_                                                                                                     

180
MPRINT(TODO):  y=22;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=&secondP;

_                                                                                                     

180
MPRINT(TODO):  z=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;
6                                           The SAS System                 14:05 Monday, March 6, 2023


______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   RUN;
MPRINT(TODO):   PROC JSON OUT="c:\users\67tim\onedrive\nodeTemplate\outfile.txt";
ERROR: File WORK.TEMP.DATA does not exist.
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
MPRINT(TODO):   RUN;

WARNING: RUN statement ignored due to previous errors. Submit QUIT; to terminate the procedure.
NOTE: PROCEDURE JSON used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: Due to ERROR(s) above, SAS set option OBS=0, enabling syntax check mode. 
      This prevents execution of subsequent data modification statements.

37         
38         ODS _ALL_ CLOSE;
ERROR: Errors printed on pages 2,3,4,5,6.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.35 seconds
      cpu time            0.12 seconds
      
=====================================================================1                                           The SAS System                 14:05 Monday, March 6, 2023

NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.22621  Workstation

NOTE: SAS initialization used:
      real time           0.31 seconds
      cpu time            0.04 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        ! passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProcessing
8        ! Sysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                           The SAS System                 14:05 Monday, March 6, 2023

      cpu time            0.01 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may be
27       ! an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=06Mar2023:14:05:49,
      Create Time=17Feb2023:12:40:53

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         force an error
           _____
           180
ERROR 180-322: Statement is not valid or it is used out of proper order.

35         
36         %ToDo;
MPRINT(TODO):   DATA temp;

NOTE: Line generated by the invoked macro "TODO".
36                                  x=&secondP;
                                    _
                                    180
MPRINT(TODO):   x=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                             y=20;
                                               _
                                               180
MPRINT(TODO):  y=20;
3                                           The SAS System                 14:05 Monday, March 6, 2023


ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                  z=30;
                                                    _
                                                    180
MPRINT(TODO):  z=30;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                       OUTPUT;
                                                         ______
                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                           x=1;
                                                                             _
                                                                             180
MPRINT(TODO):   x=1;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                               y=2;
                                                                                 _
                                                                                 180
MPRINT(TODO):  y=2;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                   z=3;
                                                                                     _
                                                                                     180
MPRINT(TODO):  z=3;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                       OUTPUT;
                                                                                         ______
                                                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                              
36       !        x=100;y=&secondP;z=300;OUTPUT;             x=101;y=201;z=301;OUTPUT;
4                                           The SAS System                 14:05 Monday, March 6, 2023

                  _
                  180
MPRINT(TODO):   x=100;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=&secondP;

_                                                                                                     

180
MPRINT(TODO):  y=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=300;

_                                                                                                     

180
MPRINT(TODO):  z=300;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=101;

_                                                                                                     

180
MPRINT(TODO):   x=101;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=201;

_                                                                                                     

180
MPRINT(TODO):  y=201;

5                                           The SAS System                 14:05 Monday, March 6, 2023

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=301;

_                                                                                                     

180
MPRINT(TODO):  z=301;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=11;

_                                                                                                     

180
MPRINT(TODO):   x=11;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=22;

_                                                                                                     

180
MPRINT(TODO):  y=22;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=&secondP;

_                                                                                                     

180
MPRINT(TODO):  z=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;
6                                           The SAS System                 14:05 Monday, March 6, 2023


______                                                                                                

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   RUN;
MPRINT(TODO):   PROC JSON OUT="c:\users\67tim\onedrive\nodeTemplate\outfile.txt";
ERROR: File WORK.TEMP.DATA does not exist.
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
MPRINT(TODO):   RUN;

WARNING: RUN statement ignored due to previous errors. Submit QUIT; to terminate the procedure.
NOTE: PROCEDURE JSON used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: Due to ERROR(s) above, SAS set option OBS=0, enabling syntax check mode. 
      This prevents execution of subsequent data modification statements.

37         
38         ODS _ALL_ CLOSE;
ERROR: Errors printed on pages 2,3,4,5,6.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.35 seconds
      cpu time            0.06 seconds
      
=====================================================================1                                           The SAS System                 14:05 Monday, March 6, 2023

NOTE: Unable to open SASUSER.PROFILE. WORK.PROFILE will be opened instead.
NOTE: All profile changes will be lost at the end of the session.
NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.22621  Workstation

NOTE: SAS initialization used:
      real time           0.31 seconds
      cpu time            0.04 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        ! passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProcessing
8        ! Sysparm.pdf */
9          %put &sysparm;
ToDo=sasT,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
2                                           The SAS System                 14:05 Monday, March 6, 2023

      cpu time            0.00 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasT
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may be
27       ! an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=06Mar2023:14:05:51,
      Create Time=17Feb2023:12:40:53

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         force an error
           _____
           180
ERROR 180-322: Statement is not valid or it is used out of proper order.

35         
36         %ToDo;
MPRINT(TODO):   DATA _NULL_;

NOTE: Line generated by the invoked macro "TODO".
36           DATA _NULL_;             FILE "&outfile";             PUT "Hello World!  This is SAS
                                      ____
                                      180
36       ! calling.";         RUN;
ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   FILE "c:\users\67tim\onedrive\nodeTemplate\outfile.txt";

NOTE: Line generated by the invoked macro "TODO".
36           DATA _NULL_;             FILE "&outfile";             PUT "Hello World!  This is SAS
                                                                   ___
                                                                   180
3                                           The SAS System                 14:05 Monday, March 6, 2023

36       ! calling.";         RUN;
ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   PUT "Hello World!  This is SAS calling.";
MPRINT(TODO):   RUN;
37         
38         ODS _ALL_ CLOSE;
ERROR: Errors printed on pages 2,3.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.34 seconds
      cpu time            0.04 seconds
      
=====================================================================1                                         The SAS System              11:53 Monday, April 21, 2025

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.26100  Workstation

NOTE: SAS initialization used:
      real time           0.61 seconds
      cpu time            0.35 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        !  passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE
5        ! SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProces
8        ! singSysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
2                                         The SAS System              11:53 Monday, April 21, 2025

      cpu time            0.01 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may
27       ! be an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=21Apr2025:11:53:24,
      Create Time=21Apr2025:11:53:24

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         force an error
           _____
           180
ERROR 180-322: Statement is not valid or it is used out of proper order.

35         
36         %ToDo;
MPRINT(TODO):   DATA temp;

NOTE: Line generated by the invoked macro "TODO".
36                                  x=&secondP;
                                    _
                                    180
MPRINT(TODO):   x=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                             y=20;
                                               _
                                               180
3                                         The SAS System              11:53 Monday, April 21, 2025

MPRINT(TODO):  y=20;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                  z=30;
                                                    _
                                                    180
MPRINT(TODO):  z=30;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                       OUTPUT;
                                                         ______
                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                           x=1;
                                                                             _
                                                                             180
MPRINT(TODO):   x=1;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                               y=2;
                                                                                 _
                                                                                 180
MPRINT(TODO):  y=2;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                   z=3;
                                                                                     _
                                                                                     180
MPRINT(TODO):  z=3;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                                                       OUTPUT;
                                                                                         ______
                                                                                         180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
4                                         The SAS System              11:53 Monday, April 21, 2025

36                                                                                              
36       !            x=100;y=&secondP;z=300;OUTPUT;             x=101;y=201;z=301;OUTPUT;
                      _
                      180
MPRINT(TODO):   x=100;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=&secondP;

_                                                                                                 

180
MPRINT(TODO):  y=99;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=300;

_                                                                                                 

180
MPRINT(TODO):  z=300;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                            

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=101;

_                                                                                                 

180
MPRINT(TODO):   x=101;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=201;

_                                                                                                 

5                                         The SAS System              11:53 Monday, April 21, 2025

180
MPRINT(TODO):  y=201;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=301;

_                                                                                                 

180
MPRINT(TODO):  z=301;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                            

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                      x=11;

_                                                                                                 

180
MPRINT(TODO):   x=11;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         y=22;

_                                                                                                 

180
MPRINT(TODO):  y=22;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         z=&secondP;

_                                                                                                 

180
MPRINT(TODO):  z=99;

6                                         The SAS System              11:53 Monday, April 21, 2025

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36         OUTPUT;

______                                                                                            

180
MPRINT(TODO):  OUTPUT;

ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   RUN;
MPRINT(TODO):   PROC JSON OUT=stdout;
ERROR: File WORK.TEMP.DATA does not exist.
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
MPRINT(TODO):   RUN;

WARNING: RUN statement ignored due to previous errors. Submit QUIT; to terminate the procedure.
NOTE: PROCEDURE JSON used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      
NOTE: Due to ERROR(s) above, SAS set option OBS=0, enabling syntax check mode. 
      This prevents execution of subsequent data modification statements.

37         
38         ODS _ALL_ CLOSE;
ERROR: Errors printed on pages 2,3,4,5,6.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.82 seconds
      cpu time            0.42 seconds
      
=====================================================================1                                         The SAS System              11:53 Monday, April 21, 2025

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.26100  Workstation

NOTE: SAS initialization used:
      real time           0.43 seconds
      cpu time            0.29 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        !  passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE
5        ! SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProces
8        ! singSysparm.pdf */
9          %put &sysparm;
ToDo=sasT,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                         The SAS System              11:53 Monday, April 21, 2025

      cpu time            0.01 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasT
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may
27       ! be an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=21Apr2025:11:53:32,
      Create Time=21Apr2025:11:53:24

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         force an error
           _____
           180
ERROR 180-322: Statement is not valid or it is used out of proper order.

35         
36         %ToDo;
MPRINT(TODO):   DATA _NULL_;

NOTE: Line generated by the invoked macro "TODO".
36                                    FILE stdout;
                                      ____
                                      180
MPRINT(TODO):   FILE stdout;

ERROR 180-322: Statement is not valid or it is used out of proper order.

NOTE: Line generated by the invoked macro "TODO".
36                                                             PUT "Hello World!  This is SAS
                                                               ___
                                                               180
3                                         The SAS System              11:53 Monday, April 21, 2025

36       ! calling.";         RUN;
MPRINT(TODO):   PUT "Hello World!  This is SAS calling.";

ERROR 180-322: Statement is not valid or it is used out of proper order.

MPRINT(TODO):   RUN;
37         
38         ODS _ALL_ CLOSE;
ERROR: Errors printed on pages 2,3.

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.46 seconds
      cpu time            0.32 seconds
      
=====================================================================1                                         The SAS System              11:57 Monday, April 21, 2025

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.26100  Workstation

NOTE: SAS initialization used:
      real time           0.40 seconds
      cpu time            0.24 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        !  passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE
5        ! SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProces
8        ! singSysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                         The SAS System              11:57 Monday, April 21, 2025

      cpu time            0.03 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may
27       ! be an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=21Apr2025:11:57:00,
      Create Time=21Apr2025:11:53:24

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         %ToDo;
MPRINT(TODO):   DATA temp;
MPRINT(TODO):   x=99;
MPRINT(TODO):  y=20;
MPRINT(TODO):  z=30;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=1;
MPRINT(TODO):  y=2;
MPRINT(TODO):  z=3;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=100;
MPRINT(TODO):  y=99;
MPRINT(TODO):  z=300;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=101;
MPRINT(TODO):  y=201;
MPRINT(TODO):  z=301;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=11;
MPRINT(TODO):  y=22;
MPRINT(TODO):  z=99;
3                                         The SAS System              11:57 Monday, April 21, 2025

MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   RUN;

NOTE: The data set WORK.TEMP has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
      

MPRINT(TODO):   PROC JSON OUT=stdout;
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
WARNING: No logical assign for filename STDOUT.
MPRINT(TODO):   RUN;

NOTE: PROCEDURE JSON used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
35         
36         ODS _ALL_ CLOSE;

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.48 seconds
      cpu time            0.32 seconds
      
=====================================================================1                                         The SAS System              11:58 Monday, April 21, 2025

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.26100  Workstation

NOTE: SAS initialization used:
      real time           0.41 seconds
      cpu time            0.35 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        !  passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE
5        ! SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProces
8        ! singSysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
2                                         The SAS System              11:58 Monday, April 21, 2025

      cpu time            0.01 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may
27       ! be an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=21Apr2025:11:58:54,
      Create Time=21Apr2025:11:53:24

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         %ToDo;
MPRINT(TODO):   DATA temp;
MPRINT(TODO):   x=99;
MPRINT(TODO):  y=20;
MPRINT(TODO):  z=30;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=1;
MPRINT(TODO):  y=2;
MPRINT(TODO):  z=3;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=100;
MPRINT(TODO):  y=99;
MPRINT(TODO):  z=300;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=101;
MPRINT(TODO):  y=201;
MPRINT(TODO):  z=301;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=11;
MPRINT(TODO):  y=22;
MPRINT(TODO):  z=99;
3                                         The SAS System              11:58 Monday, April 21, 2025

MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   RUN;

NOTE: The data set WORK.TEMP has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
      

MPRINT(TODO):   PROC JSON OUT=stdout;
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
WARNING: No logical assign for filename STDOUT.
MPRINT(TODO):   RUN;

NOTE: PROCEDURE JSON used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
35         
36         ODS _ALL_ CLOSE;

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.47 seconds
      cpu time            0.42 seconds
      
=====================================================================1                                         The SAS System              12:01 Monday, April 21, 2025

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.26100  Workstation

NOTE: SAS initialization used:
      real time           0.42 seconds
      cpu time            0.28 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        !  passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE
5        ! SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProces
8        ! singSysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                         The SAS System              12:01 Monday, April 21, 2025

      cpu time            0.03 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may
27       ! be an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=21Apr2025:12:01:06,
      Create Time=21Apr2025:11:53:24

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         %ToDo;
MPRINT(TODO):   DATA temp;
MPRINT(TODO):   x=99;
MPRINT(TODO):  y=20;
MPRINT(TODO):  z=30;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=1;
MPRINT(TODO):  y=2;
MPRINT(TODO):  z=3;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=100;
MPRINT(TODO):  y=99;
MPRINT(TODO):  z=300;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=101;
MPRINT(TODO):  y=201;
MPRINT(TODO):  z=301;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=11;
MPRINT(TODO):  y=22;
MPRINT(TODO):  z=99;
3                                         The SAS System              12:01 Monday, April 21, 2025

MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   RUN;

NOTE: The data set WORK.TEMP has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(TODO):   PROC JSON OUT=stdout;
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
WARNING: No logical assign for filename STDOUT.
MPRINT(TODO):   RUN;

NOTE: PROCEDURE JSON used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
35         
36         ODS _ALL_ CLOSE;

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.48 seconds
      cpu time            0.35 seconds
      
=====================================================================1                                         The SAS System              12:10 Monday, April 21, 2025

NOTE: Copyright (c) 2016 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.4 (TS1M7) 
      Licensed to HEALTH INFORMATION SOLUTIONS, Site 70015525.
NOTE: This session is executing on the X64_10PRO  platform.



NOTE: Analytical products:
      
      SAS/STAT 15.2
      SAS/ETS 15.2
      SAS/OR 15.2
      SAS/IML 15.2
      SAS/QC 15.2

NOTE: Additional host information:

 X64_10PRO WIN 10.0.26100  Workstation

NOTE: SAS initialization used:
      real time           0.42 seconds
      cpu time            0.28 seconds
      
1          /* Program is called by NodeJS.  It initializes a batch SAS session and calls the macro
1        !  passed as ToDo in -sysparm */
2          
3          OPTIONS MPRINT;
4          
5          OPTIONS MAUTOSOURCE
5        ! SASAUTOS=("C:\users\67tim\onedrive\nodeTemplate\sasMacros",sasautos);
6          
7          /* parse sysparm coming from SAS batch mode and convert to macro variables */
8          /* this code comes from SAS support:
8        ! https://www.sas.com/content/dam/SAS/en_ca/User%20Group%20Presentations/TASS/BatchProces
8        ! singSysparm.pdf */
9          %put &sysparm;
ToDo=sasJ,secondP=99
10         data _null_;
11         length sysparm express param value $ 200;
12         sysparm = symget('sysparm');
13         do i=1 to 50 until(express = '');
14         express = left(scan(sysparm, i, ',')); /* name=value */
15         param = left(upcase(scan(express, 1, '='))); /* name */
16         value = left(scan(express, 2, '='));
17         valid = not verify(substr(param, 1, 1),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_')
18         and not verify(trim(param),'ABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789')
19         and length(param) <=32 ; /* Ensure valid V8 macrovar name */
20         if valid then call symput(param, trim(left(value)));
21         end;
22         run;

NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
2                                         The SAS System              12:10 Monday, April 21, 2025

      cpu time            0.00 seconds
      

23         %put _user_ ;
GLOBAL SECONDP 99
GLOBAL TODO sasJ
24         
25         /* set output file for SAS macros -- eventually needs to be unique for each user */
26         /* Node reads this file and sends output back to the browser */
27         /* If browser retrieves "EMPTY", then SAS Macro did not replace the file and there may
27       ! be an error. */
28         %LET outfile = c:\users\67tim\onedrive\nodeTemplate\outfile.txt;
29         DATA _NULL_;
30             FILE "&outfile";
31             PUT "EMPTY";
32         RUN;

NOTE: The file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt" is:
      Filename=c:\users\67tim\onedrive\nodeTemplate\outfile.txt,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=21Apr2025:12:10:03,
      Create Time=21Apr2025:11:53:24

NOTE: 1 record was written to the file "c:\users\67tim\onedrive\nodeTemplate\outfile.txt".
      The minimum record length was 5.
      The maximum record length was 5.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

33         
34         %ToDo;
MPRINT(TODO):   DATA temp;
MPRINT(TODO):   x=99;
MPRINT(TODO):  y=20;
MPRINT(TODO):  z=30;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=1;
MPRINT(TODO):  y=2;
MPRINT(TODO):  z=3;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=100;
MPRINT(TODO):  y=99;
MPRINT(TODO):  z=300;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=101;
MPRINT(TODO):  y=201;
MPRINT(TODO):  z=301;
MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   x=11;
MPRINT(TODO):  y=22;
MPRINT(TODO):  z=99;
3                                         The SAS System              12:10 Monday, April 21, 2025

MPRINT(TODO):  OUTPUT;
MPRINT(TODO):   RUN;

NOTE: The data set WORK.TEMP has 5 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

MPRINT(TODO):   PROC JSON OUT=stdout;
MPRINT(TODO):   EXPORT temp / NOSASTAGS;
WARNING: No logical assign for filename STDOUT.
MPRINT(TODO):   RUN;

NOTE: PROCEDURE JSON used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      
NOTE: The SAS System stopped processing this step because of errors.
35         
36         ODS _ALL_ CLOSE;

NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           0.48 seconds
      cpu time            0.35 seconds
      
